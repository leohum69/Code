This assignment contained us to review a case study and make an erd and implement it in sql, so We made multiple entities and wrote 25 queries.

So to start first we explain the ERD.

The Entity-Relationship Diagram (ERD) models the relationships between the entities in the e-commerce system:
- **Sellers**: Sellers list products on the platform. They are identified by `SellerID`.
- **Customers**: Customers can place orders and leave reviews. They are identified by `CustomerID`.
- **Products**: Products are added by sellers and linked to categories. Products are identified by `ProductID`.
- **Orders**: Orders are placed by customers and linked to payments and order items.
- **OrderItems**: Each order contains one or more order items, which track the products and quantities in the order.
- **Payments**: Payments are linked to orders and store details such as the payment method and amount.
- **Reviews**: Reviews are left by customers for products, and include a rating and optional review text.
- **Inventory**: Inventory tracks stock levels for each product, along with reorder thresholds and unit costs.
- **Categories**: Categories classify products and allow for easy grouping.

So now i would explain each query.

First we were asked to write 4 queries that would give some data, so

Q3.1 : That query will show top 5 products with the highest average ratings. It could be used to mark the best selling items.
It joins the Products table with the Reviews table using ProductID, groups the results by ProductID and Name, and calculates the average rating for each product. The results are ordered in descending order of the average rating.

Q3.2 : This query retrieves customers who have left reviews. It could be used to see which products have been reviewed.
It performs a LEFT JOIN between Customers and Reviews and filters for rows where the CustomerID is not null in the Reviews table (indicating the customer has left a review).

Q3.3 : This query calculates the total revenue generated by each product category. This could be used to see money made by every item.
It joins Categories, Products, and OrderItems, and calculates the total revenue by multiplying the quantity sold by the price of each product. The results are grouped by category and ordered by total revenue in descending order.

Q3.4 : This query retrieves customers who have placed orders from at least 2 distinct sellers. this could be used to see which items have orders more than 2.
It joins Customers, Orders, OrderItems, and Products and counts the number of distinct sellers associated with each customer. It returns only those customers who have ordered from 2 or more sellers.

Q4: This query retrieves the top 5 customers who have spent the most money.
It joins Customers, Orders, and Payments and sums the payment amounts made by each customer, grouping them by CustomerID and Name, and ordering the results by total spent in descending order.

Q5 : This query retrieves customers who have placed more than one order on the same date.
It joins Customers and Orders and groups the results by CustomerID, Name, and OrderDate. It filters for customers who have more than one order on the same date.

Q6 : This query retrieves customers who have placed more than one order on the same date.
It joins Customers and Orders and groups the results by CustomerID, Name, and OrderDate. It filters for customers who have more than one order on the same date.

Q7 : This query is the same as Q3.3, calculating the total revenue generated by each category.

Q8 : This query retrieves customers who have not left any reviews.
It performs a LEFT JOIN between Customers and Reviews and filters for rows where the CustomerID is null in the Reviews table.
This query does not generate any output cuz the data we inserted didnot had any customers that have not given review.

Q9 : This query retrieves products that have less than the average quantity in stock.
It joins Products and Inventory, and filters for products whose stock is below the average stock in the entire inventory.
And there was no products that had less than avg quantity aswell.

Q10 : This query retrieves customers who have placed more than 5 orders.
It joins Customers and Orders, groups the results by CustomerID and Name, and filters for customers with more than 5 orders.
This query aswell didnot had any output.

Q11 : This query retrieves the most recent 3 orders for the customer with CustomerID = 1.
It selects the OrderID, OrderNumber, and OrderDate from the Orders table and orders the results by OrderDate in descending order to show the latest orders first.

Q12 : This query is similar to Q1.4, retrieving customers who have placed orders from at least 2 distinct sellers.
It joins Customers, Orders, OrderItems, and Products and groups by CustomerID and Name, filtering for customers who have ordered from at least 2 sellers.

Q13 : This query retrieves customers who have placed orders in the last 30 days.
It joins Customers and Orders, and filters for orders placed within the last 30 days using DATEADD.

Q14 : This query retrieves customers who have purchased products from all available categories.
It joins Customers, Orders, OrderItems, and Products, and groups by CustomerID and Name. It checks if the number of distinct categories in the customer's orders matches the total number of categories in the database.
No results beccause there is no customer who purchased every item.

Q15 : This query retrieves sellers and the total number of products they have sold.
It joins Sellers, Products, and OrderItems, groups by SellerID and Name, and sums the quantities of products sold by each seller. The results are ordered by total products sold in descending order.

Q16 : This query retrieves the top 5 best-selling products in the last month.
It joins Products, OrderItems, and Orders, filters for orders placed in the last month, and groups the results by ProductID and Name. It sums the quantities sold and orders the results by total quantity sold in descending order.

Q17 : This query retrieves the 5 most recent orders along with customer and product details.
It joins Orders, Customers, and OrderItems, and orders the results by OrderDate in descending order.

Q18 : This query is similar to Q14, retrieving customers who have purchased products from all available categories.
This query does not have any output as same as q14.

Q19 : This query retrieves products that have not been reviewed but are in stock, along with the average rating for their category.
It joins Products, Inventory, Reviews, and Categories, filters for products with no reviews and in-stock items, and groups by ProductID, Name, and CategoryID.
No output.

Q20 : This query retrieves the top 3 best-selling products and their reviews.
It uses a WITH clause to first calculate total sales for each product, then joins with the Reviews table to retrieve product ratings and review text, and orders the results by total sales in descending order.

Q21 : This query retrieves customer information along with their order and address details.
It uses a RIGHT JOIN to ensure all orders are included, even if there is no corresponding customer. It also uses a LEFT JOIN to retrieve address details, allowing for orders where the address might be missing.

Q22 : This query retrieves product categories along with the total number of products and total revenue for each category.
It uses LEFT JOIN to ensure all categories are included, even if they have no products or revenue. The ISNULL function is used to handle cases where there are no orders for a category, making sure the TotalRevenue shows as 0 instead of NULL.

Q23 : This query retrieves products in the "Electronics" category where the quantity ordered is between 5 and 10 units.
It joins Products, Categories, and OrderItems, and filters for the "Electronics" category and order quantities between 5 and 10. It also calculates the total revenue for each product and orders the results by revenue in descending order.
No output came.

Q24 : This query retrieves categories that have sold more than 10 units of products.
It joins Categories, Products, and OrderItems, groups by category, and filters for categories where the total number of products sold exceeds 10. The results are ordered by the total number of products sold in descending order.
No output came.

Q25 : This query retrieves customers who have placed more than 5 orders.
It joins Customers and Orders, groups by CustomerID and Name, and filters for customers with more than 5 orders. The results are ordered by the total number of orders in descending order.
No output came.